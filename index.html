
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docs.nexlayer.com/">
      
      
      
        <link rel="next" href="code-example/">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.11">
    
    
      
        <title>Nexlayer Docs</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="stylesheets/extra.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#nexlayer-deployment-yaml" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="Nexlayer Docs" class="md-header__button md-logo" aria-label="Nexlayer Docs" data-md-component="logo">
      
  <img src="assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Nexlayer Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ğŸš€ Nexlayer Deployment YAML
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="Nexlayer Docs" class="md-nav__button md-logo" aria-label="Nexlayer Docs" data-md-component="logo">
      
  <img src="assets/logo.png" alt="logo">

    </a>
    Nexlayer Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    ğŸš€ Nexlayer Deployment YAML
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    ğŸš€ Nexlayer Deployment YAML
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#developers-quick-start-guide" class="md-nav__link">
    <span class="md-ellipsis">
      Developer's Quick Start Guide
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-nexlayer" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ¦¾ â˜ What is Nexlayer?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-nexlayer" class="md-nav__link">
    <span class="md-ellipsis">
      âš¡ï¸ Why Nexlayer?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-start-deploy-in-5-minutes" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ”¥ Quick Start: Deploy in 5 Minutes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸ”¥ Quick Start: Deploy in 5 Minutes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-create-a-file-named-nexlayeryaml" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Create a file named nexlayer.yaml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-copy-this-starter-template" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Copy this starter template
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-deploy-it" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: Deploy it!
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#yaml-building-blocks" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ§© YAML Building Blocks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#image-management" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ–¼ï¸ Image Management
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸ–¼ï¸ Image Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#public-images-on-docker-hub" class="md-nav__link">
    <span class="md-ellipsis">
      Public Images on Docker Hub
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#public-images-on-ghcrio" class="md-nav__link">
    <span class="md-ellipsis">
      Public Images on GHCR.io
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#private-images" class="md-nav__link">
    <span class="md-ellipsis">
      Private Images
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#visual-diagrams" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ“Š Visual Diagrams
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸ“Š Visual Diagrams">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pod-interactions-flowchart" class="md-nav__link">
    <span class="md-ellipsis">
      Pod Interactions Flowchart
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#yaml-structure-map" class="md-nav__link">
    <span class="md-ellipsis">
      YAML Structure Map
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-app-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ› ï¸ Common App Patterns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸ› ï¸ Common App Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#simple-website" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ’» Simple Website
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frontend-backend-database" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ”„ Frontend + Backend + Database
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai-application-template" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ§  AI Application Template
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cheat-sheet-pod-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ” Cheat Sheet: Pod Configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-pods-talk-to-each-other" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ”Œ How Pods Talk to Each Other
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storing-data-with-volumes" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ’¾ Storing Data with Volumes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸ’¾ Storing Data with Volumes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#do-i-need-to-use-mountpath-like-varlibpostgresqldata" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ§  Do I Need to Use mountPath Like /var/lib/postgresql/data?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#keeping-secrets-safe" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ” Keeping Secrets Safe
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-private-images" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ³ Using Private Images
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-mistakes-to-avoid" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸš¨ Common Mistakes to Avoid
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#full-example-gaming-leaderboard-app" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ® Full Example: Gaming Leaderboard App
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#real-world-use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ“± Real-World Use Cases
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸ“± Real-World Use Cases">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#social-media-app" class="md-nav__link">
    <span class="md-ellipsis">
      Social Media App
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#e-commerce-platform" class="md-nav__link">
    <span class="md-ellipsis">
      E-Commerce Platform
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-behavior-preview-vs-production" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ“ Deployment Behavior: Preview vs Production
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸš€ Next Steps
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#detailed-schema-reference" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ“š Detailed Schema Reference
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#important-distinctions" class="md-nav__link">
    <span class="md-ellipsis">
      âš ï¸ Important Distinctions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="âš ï¸ Important Distinctions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nexlayer-vs-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      Nexlayer vs. Kubernetes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nexlayer-vs-docker-compose" class="md-nav__link">
    <span class="md-ellipsis">
      Nexlayer vs. Docker Compose
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="code-example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Code example
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="content-tabs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Content tabs
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Sdk
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Sdk
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="sdk/node/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Welcome to MkDocs
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#developers-quick-start-guide" class="md-nav__link">
    <span class="md-ellipsis">
      Developer's Quick Start Guide
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-nexlayer" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ¦¾ â˜ What is Nexlayer?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-nexlayer" class="md-nav__link">
    <span class="md-ellipsis">
      âš¡ï¸ Why Nexlayer?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-start-deploy-in-5-minutes" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ”¥ Quick Start: Deploy in 5 Minutes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸ”¥ Quick Start: Deploy in 5 Minutes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-create-a-file-named-nexlayeryaml" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Create a file named nexlayer.yaml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-copy-this-starter-template" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Copy this starter template
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-deploy-it" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: Deploy it!
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#yaml-building-blocks" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ§© YAML Building Blocks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#image-management" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ–¼ï¸ Image Management
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸ–¼ï¸ Image Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#public-images-on-docker-hub" class="md-nav__link">
    <span class="md-ellipsis">
      Public Images on Docker Hub
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#public-images-on-ghcrio" class="md-nav__link">
    <span class="md-ellipsis">
      Public Images on GHCR.io
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#private-images" class="md-nav__link">
    <span class="md-ellipsis">
      Private Images
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#visual-diagrams" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ“Š Visual Diagrams
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸ“Š Visual Diagrams">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pod-interactions-flowchart" class="md-nav__link">
    <span class="md-ellipsis">
      Pod Interactions Flowchart
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#yaml-structure-map" class="md-nav__link">
    <span class="md-ellipsis">
      YAML Structure Map
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-app-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ› ï¸ Common App Patterns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸ› ï¸ Common App Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#simple-website" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ’» Simple Website
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frontend-backend-database" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ”„ Frontend + Backend + Database
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai-application-template" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ§  AI Application Template
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cheat-sheet-pod-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ” Cheat Sheet: Pod Configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-pods-talk-to-each-other" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ”Œ How Pods Talk to Each Other
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storing-data-with-volumes" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ’¾ Storing Data with Volumes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸ’¾ Storing Data with Volumes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#do-i-need-to-use-mountpath-like-varlibpostgresqldata" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ§  Do I Need to Use mountPath Like /var/lib/postgresql/data?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#keeping-secrets-safe" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ” Keeping Secrets Safe
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-private-images" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ³ Using Private Images
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-mistakes-to-avoid" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸš¨ Common Mistakes to Avoid
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#full-example-gaming-leaderboard-app" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ® Full Example: Gaming Leaderboard App
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#real-world-use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ“± Real-World Use Cases
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸ“± Real-World Use Cases">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#social-media-app" class="md-nav__link">
    <span class="md-ellipsis">
      Social Media App
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#e-commerce-platform" class="md-nav__link">
    <span class="md-ellipsis">
      E-Commerce Platform
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-behavior-preview-vs-production" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ“ Deployment Behavior: Preview vs Production
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸš€ Next Steps
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#detailed-schema-reference" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ“š Detailed Schema Reference
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#important-distinctions" class="md-nav__link">
    <span class="md-ellipsis">
      âš ï¸ Important Distinctions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="âš ï¸ Important Distinctions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nexlayer-vs-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      Nexlayer vs. Kubernetes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nexlayer-vs-docker-compose" class="md-nav__link">
    <span class="md-ellipsis">
      Nexlayer vs. Docker Compose
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="nexlayer-deployment-yaml">ğŸš€ Nexlayer Deployment YAML</h1>
<h2 id="developers-quick-start-guide">Developer's Quick Start Guide</h2>
<p>Hello developers! Welcome to the Nexlayer deployment YAML guide that gets you from zero to deployed in minutes. Whether you're a freelancer, indie developer, creator, or startup founder, this guide will help you deploy lightning-fast on Nexlayer AI Cloud.</p>
<ol>
<li><a href="#-what-is-nexlayer">What is Nexlayer?</a></li>
<li><a href="#-quick-start-deploy-in-5-minutes">Quick Start: Deploy in 5 Minutes</a></li>
<li><a href="#-yaml-building-blocks">YAML Building Blocks</a></li>
<li><a href="#-image-management">Image Management</a></li>
<li><a href="#-visual-diagrams">Visual Diagrams</a></li>
<li><a href="#-common-app-patterns">Common App Patterns</a></li>
<li><a href="#-cheat-sheet-pod-configuration">Cheat Sheet: Pod Configuration</a></li>
<li><a href="#-how-pods-talk-to-each-other">How Pods Talk to Each Other</a></li>
<li><a href="#-storing-data-with-volumes">Storing Data with Volumes</a></li>
<li><a href="#-keeping-secrets-safe">Keeping Secrets Safe</a></li>
<li><a href="#-using-private-images">Using Private Images</a></li>
<li><a href="#-common-mistakes-to-avoid">Common Mistakes to Avoid</a></li>
<li><a href="#-full-example-gaming-leaderboard-app">Full Example: Gaming Leaderboard App</a></li>
<li><a href="#-real-world-use-cases">Real-World Use Cases</a></li>
<li><a href="#-pro-tips">Pro Tips</a></li>
<li><a href="#-next-steps">Next Steps</a></li>
<li><a href="#-detailed-schema-reference">Detailed Schema Reference</a></li>
<li><a href="#-important-distinctions">Important Distinctions</a></li>
</ol>
<h2 id="what-is-nexlayer">ğŸ¦¾ â˜ What is Nexlayer?</h2>
<p>Nexlayer is an AI-powered cloud built for developers who want to ship faster, scale effortlessly, and skip the DevOps headaches.</p>
<p>Define your app's structure in a simple YAML file, and Nexlayer automates everythingâ€”provisioning, scaling, networking, and securityâ€”so you can focus on building, not configuring. No Kubernetes wrangling, no complex infra setup.</p>
<p>Unlike legacy platforms, Nexlayer is AI-native and designed for modern apps, AI models, and scalable backendsâ€”without vendor lock-in or unnecessary complexity. Write YAML, deploy, and go.</p>
<h2 id="why-nexlayer">âš¡ï¸ Why Nexlayer?</h2>
<ul>
<li>âœ… Zero DevOps â€“ Write YAML, deploy, done.</li>
<li>âœ… Auto-Scaling â€“ Handles traffic spikes automatically.</li>
<li>âœ… Built-in Security â€“ Secrets management &amp; encrypted storage.</li>
<li>âœ… AI &amp; ML Ready â€“ Deploy AI models with zero friction.</li>
<li>âœ… Effortless Networking â€“ Services auto-discover, no networking configs.</li>
<li>âœ… Simple Deployments â€“ No infra setup</li>
<li>âœ… Stack-Agnostic â€“ Works with APIs, web apps, AI services, and more.</li>
</ul>
<p>ğŸš€ Less setup, more shipping.</p>
<h2 id="quick-start-deploy-in-5-minutes">ğŸ”¥ Quick Start: Deploy in 5 Minutes</h2>
<p>Let's get your first app running on Nexlayer right now:</p>
<h3 id="step-1-create-a-file-named-nexlayeryaml">Step 1: Create a file named <code>nexlayer.yaml</code></h3>
<h3 id="step-2-copy-this-starter-template">Step 2: Copy this starter template</h3>
<pre><code class="language-yaml">application: # The name of the deployment
  name: &quot;my-first-app&quot; # Required: Globally unique application identifier
  # url: &quot;www.example.ai&quot;  # Optional: Include only for permanent deployments
  pods: # Required: List of containers
    - name: webapp # Required: Must start with lowercase letter, use only alphanumeric, hyphens, or dots
      image: &quot;your-username/my-app:v1.2.0&quot; # Required: Docker image (must be hosted on registry)
      path: / # Optional: URL path where the service is accessible (only required for web-facing pods)
      servicePorts: # Required: List of ports exposed by this pod
        - 80 # Format: Simple list of integers
</code></pre>
<p><strong>ğŸ’¡ Tip</strong>: If you prefer a more interactive way to create your <code>nexlayer.yaml</code>, try our <strong>Template Builder</strong> at <a href="https://app.nexlayer.io/template-builder">app.nexlayer.io/template-builder</a>. It lets you visually configure your application and generates the YAML for youâ€”no manual coding needed!</p>
<h3 id="step-3-deploy-it">Step 3: Deploy it!</h3>
<p>That's it! You just deployed a web service to Nexlayer. Let's understand what you did...</p>
<h2 id="yaml-building-blocks">ğŸ§© YAML Building Blocks</h2>
<p>Nexlayer YAML has a simple structure:</p>
<pre><code>application
â”œâ”€â”€ name: Your app's name
â”œâ”€â”€ url: Your app's URL (optional)
â”œâ”€â”€ registryLogin (optional for private images)
â””â”€â”€ pods: List of containers
    â”œâ”€â”€ Pod 1 (like a web server)
    â”‚   â”œâ”€â”€ name: pod name
    â”‚   â”œâ”€â”€ image: container image
    â”‚   â”œâ”€â”€ path: web route
    â”‚   â”œâ”€â”€ servicePorts: exposed ports
    â”‚   â”‚   â””â”€â”€ - port number
    â”‚   â”œâ”€â”€ vars: environment variables
    â”‚   â”‚   â”œâ”€â”€ ENV_VAR1: value1
    â”‚   â”‚   â””â”€â”€ ENV_VAR2: value2
    â”‚   â”œâ”€â”€ volumes: persistent storage
    â”‚   â”‚   â””â”€â”€ - name: volume name
    â”‚   â”‚       â”œâ”€â”€ size: storage size
    â”‚   â”‚       â””â”€â”€ mountPath: storage location
    â”‚   â””â”€â”€ secrets: sensitive data
    â”‚       â””â”€â”€ - name: secret name
    â”‚           â”œâ”€â”€ data: secret content
    â”‚           â”œâ”€â”€ mountPath: secret location
    â”‚           â””â”€â”€ fileName: secret file name
    â”‚
    â”œâ”€â”€ Pod 2 (like a database)
    â”‚   â””â”€â”€ ...
    â””â”€â”€ Pod 3 (like a cache)
        â””â”€â”€ ...
</code></pre>
<p>Each pod is a container that runs a specific part of your application. They automatically talk to each other!</p>
<h2 id="image-management">ğŸ–¼ï¸ Image Management</h2>
<p>Nexlayer requires all Docker images to be hosted on a registryâ€”local images aren't supported since it's a cloud platform.</p>
<h3 id="public-images-on-docker-hub">Public Images on Docker Hub</h3>
<p>Use your own public image with the format your-username/my-app:<tag>:</p>
<pre><code class="language-yaml">application:
  pods:
    - name: &quot;app&quot;
      image: &quot;your-username/my-app:v1.2.0&quot; # Your public image on Docker Hub
</code></pre>
<p>If you omit the tag (e.g., your-username/my-app), Docker Hub defaults to :latest.</p>
<p>Note: Generic images like nginx:latest work locally but aren't suitable for your app on Nexlayerâ€”push your own image instead.</p>
<h3 id="public-images-on-ghcrio">Public Images on GHCR.io</h3>
<p>Use ghcr.io/your-username/my-app:<tag> for public images on GitHub Container Registry:</p>
<pre><code class="language-yaml">application:
  pods:
    - name: &quot;app&quot;
      image: &quot;ghcr.io/your-username/my-app:v1.2.0&quot; # Your public image on GHCR.io
</code></pre>
<p>Without a tag (e.g., ghcr.io/your-username/my-app), it defaults to :latest.</p>
<h3 id="private-images">Private Images</h3>
<p>For private images on any registry (e.g., GHCR.io or Docker Hub), use &lt;% REGISTRY %&gt; with authentication:</p>
<pre><code class="language-yaml">application:
  registryLogin:
    registry: &quot;ghcr.io&quot; # Registry hostname (e.g., ghcr.io, docker.io)
    username: &quot;your-username&quot; # Registry username - case sensitive!
    personalAccessToken: &quot;your-token&quot; # Registry access token/password
  pods:
    - name: &quot;app&quot;
      image: &quot;&lt;% REGISTRY %&gt;/your-username/my-app:v1.2.0&quot; # Private image
</code></pre>
<p>Omitting the tag (e.g., &lt;% REGISTRY %&gt;/your-username/my-app) defaults to :latest.</p>
<p>Tip: Specify tags (e.g., v1.2.0) for consistency; :latest might pull unexpected updates.</p>
<h2 id="visual-diagrams">ğŸ“Š Visual Diagrams</h2>
<h3 id="pod-interactions-flowchart">Pod Interactions Flowchart</h3>
<p>Here's how pods connect to each other in a typical fullstack application:</p>
<pre><code class="language-mermaid">graph TD
    subgraph NexlayerCloud[&quot;Nexlayer AI Cloud Cluster&quot;]
        %% Frontend app
        Frontend[Next.js Frontend&lt;br&gt;path: '/'&lt;br&gt;Port: 3000]

        %% Backend app
        Backend[FastAPI Backend&lt;br&gt;path: '/api'&lt;br&gt;Port: 8000]

        %% Databases
        DB[(PostgreSQL&lt;br&gt;Port: 5432)]
        VectorDB[(Pinecone Vector DB&lt;br&gt;Port: 8080)]
    end

    %% External entities
    ExternalAPI[OpenAI API]

    %% Relationships
    Frontend --&gt;|fastapi.pod:8000| Backend
    Backend --&gt;|postgresql://postgres.pod:5432/mydb| DB
    Backend --&gt;|pinecone.pod:8080| VectorDB
    Backend --&gt;|API calls| ExternalAPI

    %% Styling
    classDef app fill:#ACFFFC,color:black,stroke:#ccc,stroke-width:2px
    classDef data fill:#EF8CA4,color:black,stroke:#ccc,stroke-width:2px
    classDef external fill:#cccccc,color:black,stroke:#999,stroke-width:2px
    classDef nexlayer fill:#f2f2f2,stroke:#e0e0e0,stroke-width:1px

    class Frontend,Backend app
    class DB,VectorDB data
    class ExternalAPI external
    class NexlayerCloud nexlayer
</code></pre>
<p>This diagram shows how Nexlayer's automatic service discovery works:</p>
<ul>
<li>The Next.js frontend connects to the FastAPI backend using fastapi.pod:8000</li>
<li>The FastAPI backend connects to PostgreSQL using postgres.pod:5432</li>
<li>The FastAPI backend also connects to Pinecone vector database using pinecone.pod:8080</li>
<li>The FastAPI backend connects to external OpenAI API (external services work normally)</li>
</ul>
<p>Each pod can reference other pods using the <pod-name>.pod syntax without worrying about IP addresses.</p>
<h3 id="yaml-structure-map">YAML Structure Map</h3>
<p>This map shows the hierarchical structure of a Nexlayer YAML file for an AI-powered application:</p>
<pre><code>application
â”œâ”€â”€ name: &quot;ai-powered-app&quot;
â”œâ”€â”€ url: &quot;https://myai.example.com&quot; (optional)
â”œâ”€â”€ registryLogin (optional)
â”‚   â”œâ”€â”€ registry: &quot;registry.example.com&quot;
â”‚   â”œâ”€â”€ username: &quot;myuser&quot;
â”‚   â””â”€â”€ personalAccessToken: &quot;mypat123&quot;
â””â”€â”€ pods
    â”œâ”€â”€ next-frontend
    â”‚   â”œâ”€â”€ name: &quot;nextjs&quot;
    â”‚   â”œâ”€â”€ image: &quot;vercel/next:latest&quot;
    â”‚   â”œâ”€â”€ path: &quot;/&quot;
    â”‚   â”œâ”€â”€ servicePorts: [3000]
    â”‚   â””â”€â”€ vars:
    â”‚       â””â”€â”€ BACKEND_URL: &quot;http://fastapi.pod:8000&quot;
    â”œâ”€â”€ fastapi-backend
    â”‚   â”œâ”€â”€ name: &quot;fastapi&quot;
    â”‚   â”œâ”€â”€ image: &quot;tiangolo/fastapi:latest&quot;
    â”‚   â”œâ”€â”€ path: &quot;/api&quot;
    â”‚   â”œâ”€â”€ servicePorts: [8000]
    â”‚   â”œâ”€â”€ vars:
    â”‚       â”œâ”€â”€ DATABASE_URL: &quot;postgresql://postgres:password@postgres.pod:5432/mydb&quot;
    â”‚       â”œâ”€â”€ PINECONE_URL: &quot;http://pinecone.pod:8080&quot;
    â”‚       â””â”€â”€ OPENAI_API_KEY: &quot;sk-...&quot; # Set via secrets instead for production
    â”‚   â””â”€â”€ secrets:
    â”‚       â””â”€â”€ name: &quot;api-keys&quot;
    â”‚           data: &quot;your-openai-key-here&quot;
    â”‚           mountPath: &quot;/app/secrets&quot;
    â”‚           fileName: &quot;openai.key&quot;
    â”œâ”€â”€ postgres-db
    â”‚   â”œâ”€â”€ name: &quot;postgres&quot;
    â”‚   â”œâ”€â”€ image: &quot;postgres:14&quot;
    â”‚   â”œâ”€â”€ servicePorts: [5432]
    â”‚   â”œâ”€â”€ vars:
    â”‚       â”œâ”€â”€ POSTGRES_USER: &quot;postgres&quot;
    â”‚       â”œâ”€â”€ POSTGRES_PASSWORD: &quot;password&quot;
    â”‚       â””â”€â”€ POSTGRES_DB: &quot;mydb&quot;
    â”‚   â””â”€â”€ volumes:
    â”‚       â””â”€â”€ name: &quot;postgres-data&quot;
    â”‚           size: &quot;5Gi&quot;
    â”‚           mountPath: &quot;/var/lib/postgresql/data&quot;
    â””â”€â”€ pinecone-vector-db
        â”œâ”€â”€ name: &quot;pinecone&quot;
        â”œâ”€â”€ image: &quot;pinecone/pinecone-server:latest&quot;
        â”œâ”€â”€ servicePorts: [8080]
        â””â”€â”€ volumes:
            â””â”€â”€ name: &quot;vector-data&quot;
                size: &quot;10Gi&quot;
                mountPath: &quot;/data&quot;
</code></pre>
<p>This visualization helps you understand how different elements of your configuration relate to each other.</p>
<h2 id="common-app-patterns">ğŸ› ï¸ Common App Patterns</h2>
<h3 id="simple-website">ğŸ’» Simple Website</h3>
<pre><code class="language-yaml">application:
  name: &quot;my-website&quot; # Required: Globally unique application name
  pods:
    - name: web # Required: Unique pod name
      image: your-username/my-app:v1.2.0 # Required: Docker image from registry
      path: / # Optional: URL route (must start with /)
      servicePorts: # Required: List of exposed ports
        - 80 # Format: Simple integer
</code></pre>
<h3 id="frontend-backend-database">ğŸ”„ Frontend + Backend + Database</h3>
<pre><code class="language-yaml">application:
  name: &quot;fullstack-app&quot;
  pods:
    - name: frontend
      image: &quot;your-username/frontend-app:v1.0.0&quot; # Your public image on Docker Hub
      path: /
      servicePorts:
        - 3000
      vars: # Environment variables as key-value pairs
        API_URL: &quot;http://backend.pod:4000&quot; # Reference other pods with .pod suffix

    - name: backend
      image: &quot;your-username/backend-app:v1.0.0&quot; # Your public image on Docker Hub
      path: /api # Path must start with /
      servicePorts:
        - 4000
      vars:
        DATABASE_URL: &quot;postgresql://user:pass@database.pod:5432/mydb&quot; # Proper inter-pod reference

    - name: database
      image: &quot;postgres:14&quot; # Standard database image from Docker Hub
      servicePorts:
        - 5432
      vars:
        POSTGRES_USER: &quot;user&quot;
        POSTGRES_PASSWORD: &quot;pass&quot;
        POSTGRES_DB: &quot;mydb&quot;
      volumes:
        - name: db-data # Unique volume name
          size: &quot;1Gi&quot; # Storage size with units (Mi, Gi, Ti)
          mountPath: &quot;/var/lib/postgresql/data&quot; # Must start with /
</code></pre>
<h2 id="ai-application-template">ğŸ§  AI Application Template</h2>
<pre><code class="language-yaml">application:
  name: &quot;ai-app&quot;
  pods:
    - name: frontend
      image: &quot;your-username/ai-frontend:v1.0.0&quot; # Your public image on Docker Hub
      path: /
      servicePorts:
        - 3000
      vars:
        API_URL: &quot;http://ai-backend.pod:5000&quot; # Note .pod suffix for pod reference

    - name: ai-backend
      image: &quot;your-username/ai-backend:v1.0.0&quot; # Your public image on Docker Hub
      servicePorts:
        - 5000
      vars:
        MODEL_PATH: &quot;/models&quot; # Path starts with /
        VECTOR_DB: &quot;http://vector-db.pod:8080&quot; # Note .pod suffix
      volumes:
        - name: model-storage
          size: &quot;5Gi&quot;
          mountPath: &quot;/models&quot; # Path starts with /

    - name: vector-db
      image: &quot;weaviate/weaviate:latest&quot; # Standard vector database image
      servicePorts:
        - 8080
      volumes:
        - name: vector-data
          size: &quot;2Gi&quot;
          mountPath: &quot;/data&quot; # Path starts with /
</code></pre>
<h2 id="cheat-sheet-pod-configuration">ğŸ” Cheat Sheet: Pod Configuration</h2>
<table>
<thead>
<tr>
<th>Key</th>
<th>Definition</th>
<th>Why it matters</th>
<th>Examples</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>name</strong></td>
<td>A unique name to identify this service.</td>
<td>Each little machine (pod) must work correctly for your app to runâ€”if one machine breaks, your whole app might not work and your friends wouldn't be able to use it.</td>
<td><code>name: postgres</code></td>
</tr>
<tr>
<td><strong>image</strong></td>
<td>Specifies the Docker container image (including repository info) to deploy for that pod. The image must be hosted and, for private images, follow the <code>&lt;% REGISTRY %&gt;/&lt;...&gt;</code> format.</td>
<td>This tells Nexlayer exactly which pre-built container to use for your live app. Choosing a solid image means your app runs in a proven, ready-to-go environment for all your users.</td>
<td><code>image: "postgres:latest"</code> or <code>image: "cooldb/image:1.0"</code></td>
</tr>
<tr>
<td><strong>path</strong></td>
<td>For web-facing pods, defines the external URL route where users access the service.</td>
<td>This sets the web address path where users access your service. A well-defined path means your website, service or API is easily found, making your app look friendly and professional on Nexlayer Cloud.</td>
<td><code>path: "/"</code> or <code>path: "/api"</code></td>
</tr>
<tr>
<td><strong>servicePorts</strong></td>
<td>Defines the ports for external access or inter-service communication.</td>
<td>These ports are like the doorways that let users (or other services) connect to your app. Set them correctly, and your live app will be easily accessible and reliable on the web.</td>
<td><code>servicePorts: - 5432</code></td>
</tr>
<tr>
<td><strong>vars</strong></td>
<td>Runtime environment variables defined as direct key-value pairs. Use <code>&lt;pod-name&gt;.pod</code> to reference other pods or <code>&lt;% URL %&gt;</code> for the deployment's base URL.</td>
<td>These are the settings that tell your live app how to connect to databases, APIs, and more. When they're set up right, your app adapts perfectly to the cloud environment, keeping your users happy.</td>
<td><code>vars:</code><br><code>POSTGRES_USER: postgres</code><br><code>POSTGRES_PASSWORD: password</code><br><code>POSTGRES_DB: mydb</code><br><code>API_URL: http://backend.pod:3000</code></td>
</tr>
<tr>
<td><strong>volumes</strong></td>
<td>Optional persistent storage settings that ensure data isn't lost between restarts. Each volume includes a name, size, and a mountPath.</td>
<td>Volumes are like cloud hard drives for your app. They store important data (like database files) so that nothing is lost when your app updates or restarts, keeping your users' data safe.</td>
<td><code>volumes: - name: postgres-data size: 5Gi mountPath: /var/lib/postgresql/data</code></td>
</tr>
<tr>
<td><strong>mountPath</strong></td>
<td>Within a volume configuration, specifies the internal file system location where the volume attaches. Must start with a "/".</td>
<td>This tells Nexlayer exactly where to plug in your volume within a running container. When set correctly, your live app can read and save data smoothlyâ€”ensuring a seamless user experience.</td>
<td><code>mountPath: "/var/lib/postgresql/data"</code></td>
</tr>
<tr>
<td><strong>secrets</strong></td>
<td>Securely mount sensitive data into your app's configuration files. Each secret includes a name, data (raw text or Base64-encoded), a mountPath (must start with "/"), and a fileName to name the mounted secret file.</td>
<td>Secrets keep your sensitive info locked away safely. By using secrets, you protect passwords and keys while ensuring your app runs securelyâ€”giving your users peace of mind.</td>
<td><code>secrets: - name: nextauth-secret data: "myrandomsecret" mountPath: "/var/secrets/nextauth" fileName: secret.txt</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Note:</strong> There are additional configuration options available in the schema that are managed internally by Nexlayer.</p>
</blockquote>
<h2 id="how-pods-talk-to-each-other">ğŸ”Œ How Pods Talk to Each Other</h2>
<p>The magic of Nexlayer: pods automatically discover each other! Use <code>&lt;pod-name&gt;.pod</code> in your configuration:</p>
<pre><code class="language-yaml">vars:
  DATABASE_URL: &quot;postgresql://postgres:postgres@database.pod:5432/myapp&quot; # CORRECT: Using .pod suffix
  API_URL: &quot;http://api.pod:8000&quot; # References another pod named &quot;api&quot;
  SITE_URL: &quot;&lt;% URL %&gt;/dashboard&quot; # References the deployment's base URL
</code></pre>
<p>You can use:</p>
<ul>
<li><code>&lt;pod-name&gt;.pod</code> to reference other pods (required when connecting services)</li>
<li><code>&lt;% URL %&gt;</code> to reference the URL of your deployment site</li>
</ul>
<h2 id="storing-data-with-volumes">ğŸ’¾ Storing Data with Volumes</h2>
<p>Keep your data safe between restarts:</p>
<pre><code class="language-yaml">volumes:
  - name: my-data # Give it a name
    size: &quot;1Gi&quot; # How much space (1Gi = 1 Gigabyte)
    mountPath: &quot;/data&quot; # Where to find it in your container (must start with /)
</code></pre>
<h3 id="do-i-need-to-use-mountpath-like-varlibpostgresqldata">ğŸ§  Do I Need to Use <code>mountPath</code> Like <code>/var/lib/postgresql/data</code>?</h3>
<p><strong>Short answer: Not always.</strong></p>
<p>Nexlayer simplifies how volumes are mounted by handling common defaults internally.</p>
<p>If you're using a standard, publicly hosted image like <code>postgres</code>, <code>redis</code>, or <code>mongo</code>, Nexlayer <strong>automatically mounts volumes to the correct internal paths</strong> â€” so you donâ€™t need to explicitly specify <code>mountPath</code> unless:</p>
<ul>
<li>âœ… Youâ€™re using a <strong>custom image</strong> that expects data in a specific directory</li>
<li>âœ… You have <strong>explicit logic in your app</strong> that reads/writes from a known file path</li>
<li>âœ… You're mounting <strong>secrets</strong> to a specific location in the filesystem</li>
</ul>
<pre><code class="language-yaml"># âœ… Optional if using a known image like postgres
volumes:
  - name: postgres-data
    size: &quot;5Gi&quot;
    # mountPath: &quot;/var/lib/postgresql/data&quot;  # Optional â€“ Nexlayer auto-mounts for postgres
</code></pre>
<p>The Nexlayer platform abstracts path requirements for standard services. Keep your YAML cleaner by omitting mountPath unless your container specifically needs it.</p>
<h2 id="keeping-secrets-safe">ğŸ” Keeping Secrets Safe</h2>
<p>Store API keys, passwords, and other sensitive data securely:</p>
<pre><code class="language-yaml">secrets:
  - name: api-keys # Unique name within pod
    data: &quot;my-super-secret-api-key&quot; # Actual secret value
    mountPath: &quot;/var/secrets&quot; # Must start with /
    fileName: &quot;api-key.txt&quot; # Name of the file containing the secret
</code></pre>
<p>Your app can then read <code>/var/secrets/api-key.txt</code> to get the secret value.</p>
<h2 id="using-private-images">ğŸ³ Using Private Images</h2>
<p>If your Docker images are in a private registry:</p>
<pre><code class="language-yaml">application:
  name: &quot;private-app&quot;
  registryLogin: # Required for private images - registry authentication details
    registry: &quot;ghcr.io&quot; # Registry hostname (e.g., ghcr.io, docker.io)
    username: &quot;your-username&quot; # Registry username (case sensitive!)
    personalAccessToken: &quot;my-token&quot; # Read-only registry Personal Access Token
  pods:
    - name: private-service
      # For private images use the following schema exactly as shown:
      # Images are tagged as private if they include '&lt;% REGISTRY %&gt;'
      image: &quot;&lt;% REGISTRY %&gt;/your-username/private-image:latest&quot; # This gets replaced with the registry above
      servicePorts:
        - 3000
      # ... rest of config
</code></pre>
<p>Note that the username in the image path must match exactly (including case) with the username in <code>registryLogin</code>.</p>
<h2 id="common-mistakes-to-avoid">ğŸš¨ Common Mistakes to Avoid</h2>
<ol>
<li>
<p>âŒ <strong>Forgetting the <code>application:</code> block at the start</strong><br />
   âœ… Always begin your YAML with <code>application:</code></p>
</li>
<li>
<p>âŒ <strong>Using the same pod name twice</strong><br />
   âœ… Each pod name must be unique</p>
</li>
<li>
<p>âŒ <strong>Incorrect pod name format</strong><br />
   âœ… Pod names must start with a lowercase letter and can include only alphanumeric characters, hyphens, or dots</p>
</li>
<li>
<p>âŒ <strong>Mixing up <code>path</code> and <code>mountPath</code></strong><br />
   âœ… <code>path</code> is for URL routes (like <code>/api</code>), <code>mountPath</code> is for filesystem paths (like <code>/data</code>)</p>
</li>
<li>
<p>âŒ <strong>Forgetting servicePorts</strong><br />
   âœ… Each pod needs servicePorts to be accessible</p>
</li>
<li>
<p>âŒ <strong>Incorrect pod references</strong><br />
   âœ… Use <code>&lt;pod-name&gt;.pod</code> to connect services (not IP addresses)</p>
</li>
<li>
<p>âŒ <strong>Trying to use Kubernetes or Docker Compose syntax</strong><br />
   âœ… Nexlayer has its own unique YAML schema</p>
</li>
<li>
<p>âŒ <strong>DO NOT add <code>resources.limits</code> manually to your YAML.</strong><br />
   âœ… Nexlayer <strong>automatically</strong> configures CPU &amp; Memory for each service.<br />
   âœ… If you add <code>resources.limits</code> manually, it will be ignored.</p>
</li>
<li>
<p>âŒ <strong>Misunderstanding entrypoint and command behavior</strong><br />
   âœ… If entrypoint and command are explicitly defined in Docker Compose, the Nexlayer-CLI will translate them into Nexlayer YAML.<br />
   âœ… If they are not defined in Docker Compose, the Nexlayer-CLI omits them, defaulting to the Dockerfile's built-in values.</p>
</li>
<li>
<p>âŒ <strong>Using array format for environment variables</strong><br />
    âœ… Use direct key-value pairs for environment variables:</p>
<p><code>yaml
vars:
  ENV_VAR_KEY: "value" # CORRECT</code></p>
<p><code>yaml
vars:
  - key: "ENV_VAR_KEY" # INCORRECT
    value: "value"</code></p>
</li>
<li>
<p>âŒ <strong>Trying to use local Docker images</strong><br />
    âœ… All images must be hosted on a registry (Docker Hub, GHCR.io, etc.)</p>
</li>
<li>âŒ <strong>Case mismatch between registry username and image path</strong><br />
    âœ… Ensure the username in your image path exactly matches the registry username (case sensitive)</li>
</ol>
<h2 id="full-example-gaming-leaderboard-app">ğŸ® Full Example: Gaming Leaderboard App</h2>
<pre><code class="language-yaml">application:
  name: &quot;game-leaderboard&quot; # Required: Application name
  pods:
    - name: frontend # Required: Unique pod name
      image: &quot;your-username/game-ui:v1.0.0&quot; # Your public image on Docker Hub
      path: &quot;/&quot; # URL route (must start with /)
      servicePorts: # Required: List of exposed ports
        - 3000
      vars: # Environment variables as key-value pairs
        API_URL: &quot;http://api.pod:8080&quot; # Note .pod suffix
        WEBSOCKET_URL: &quot;ws://api.pod:8080/ws&quot; # Note .pod suffix

    - name: api
      image: &quot;your-username/game-api:v1.0.0&quot; # Your public image on Docker Hub
      path: &quot;/api&quot; # Path starts with /
      servicePorts:
        - 8080
      vars:
        MONGO_URI: &quot;mongodb://mongo.pod:27017/leaderboard&quot; # Note .pod suffix
        REDIS_URL: &quot;redis://redis.pod:6379&quot; # Note .pod suffix
        JWT_SECRET: &quot;supersecretkey&quot;

    - name: mongo
      image: &quot;mongo:latest&quot; # Standard database image from Docker Hub
      servicePorts:
        - 27017
      volumes:
        - name: mongo-data
          size: &quot;2Gi&quot; # Storage size with units
          mountPath: &quot;/data/db&quot; # Must start with /

    - name: redis
      image: &quot;redis:latest&quot; # Standard cache image from Docker Hub
      servicePorts:
        - 6379
      volumes:
        - name: redis-data
          size: &quot;1Gi&quot;
          mountPath: &quot;/data&quot; # Must start with /
</code></pre>
<h2 id="real-world-use-cases">ğŸ“± Real-World Use Cases</h2>
<h3 id="social-media-app">Social Media App</h3>
<pre><code class="language-yaml">application:
  name: &quot;social-media&quot;
  pods:
    - name: frontend
      image: &quot;your-username/social-frontend:v1.0.0&quot;
      path: &quot;/&quot;
      servicePorts:
        - 3000
      vars:
        API_URL: &quot;http://api.pod:8000&quot; # Note .pod suffix
        MEDIA_URL: &quot;http://media.pod:9000&quot; # Note .pod suffix

    - name: api
      image: &quot;your-username/social-api:v1.0.0&quot;
      path: &quot;/api&quot; # Path starts with /
      servicePorts:
        - 8000
      vars:
        DATABASE_URL: &quot;postgresql://postgres:password@postgres.pod:5432/socialdb&quot; # Note .pod suffix
        REDIS_URL: &quot;redis://redis.pod:6379&quot; # Note .pod suffix
        MEDIA_SERVICE: &quot;http://media.pod:9000&quot; # Note .pod suffix

    - name: media
      image: &quot;your-username/media-service:v1.0.0&quot;
      path: &quot;/media&quot; # Path starts with /
      servicePorts:
        - 9000
      vars:
        STORAGE_PATH: &quot;/data/media&quot; # Path starts with /
      volumes:
        - name: media-storage
          size: &quot;10Gi&quot;
          mountPath: &quot;/data/media&quot; # Must start with /

    - name: postgres
      image: &quot;postgres:14&quot;
      servicePorts:
        - 5432
      vars:
        POSTGRES_USER: &quot;postgres&quot;
        POSTGRES_PASSWORD: &quot;password&quot;
        POSTGRES_DB: &quot;socialdb&quot;
      volumes:
        - name: postgres-data
          size: &quot;5Gi&quot;
          mountPath: &quot;/var/lib/postgresql/data&quot; # Must start with /

    - name: redis
      image: &quot;redis:latest&quot;
      servicePorts:
        - 6379
      volumes:
        - name: redis-data
          size: &quot;1Gi&quot;
          mountPath: &quot;/data&quot; # Must start with /
</code></pre>
<h3 id="e-commerce-platform">E-Commerce Platform</h3>
<pre><code class="language-yaml">application:
  name: &quot;ecommerce&quot;
  pods:
    - name: storefront
      image: &quot;your-username/store-frontend:v2.1.0&quot;
      path: &quot;/&quot;
      servicePorts:
        - 3000
      vars:
        API_URL: &quot;http://api.pod:4000&quot; # Note .pod suffix
        STRIPE_PUBLIC_KEY: &quot;pk_test_123&quot;

    - name: admin
      image: &quot;your-username/admin-panel:v2.1.0&quot;
      path: &quot;/admin&quot; # Path starts with /
      servicePorts:
        - 3001
      vars:
        API_URL: &quot;http://api.pod:4000&quot; # Note .pod suffix

    - name: api
      image: &quot;your-username/ecommerce-api:v2.1.0&quot;
      path: &quot;/api&quot; # Path starts with /
      servicePorts:
        - 4000
      vars:
        DATABASE_URL: &quot;postgresql://postgres:password@postgres.pod:5432/shopdb&quot; # Note .pod suffix
        REDIS_URL: &quot;redis://redis.pod:6379&quot; # Note .pod suffix
        ELASTICSEARCH_URL: &quot;http://elasticsearch.pod:9200&quot; # Note .pod suffix
      secrets:
        - name: stripe-key
          data: &quot;sk_test_your_stripe_secret_key&quot;
          mountPath: &quot;/app/secrets&quot; # Must start with /
          fileName: &quot;stripe.key&quot;

    - name: postgres
      image: &quot;postgres:14&quot;
      servicePorts:
        - 5432
      vars:
        POSTGRES_USER: &quot;postgres&quot;
        POSTGRES_PASSWORD: &quot;password&quot;
        POSTGRES_DB: &quot;shopdb&quot;
      volumes:
        - name: postgres-data
          size: &quot;10Gi&quot;
          mountPath: &quot;/var/lib/postgresql/data&quot; # Must start with /

    - name: redis
      image: &quot;redis:latest&quot;
      servicePorts:
        - 6379
      volumes:
        - name: redis-data
          size: &quot;2Gi&quot;
          mountPath: &quot;/data&quot; # Must start with /

    - name: elasticsearch
      image: &quot;elasticsearch:8.6.0&quot;
      servicePorts:
        - 9200
      vars:
        discovery.type: &quot;single-node&quot;
        ES_JAVA_OPTS: &quot;-Xms512m -Xmx512m&quot;
      volumes:
        - name: es-data
          size: &quot;20Gi&quot;
          mountPath: &quot;/usr/share/elasticsearch/data&quot; # Must start with /
</code></pre>
<h2 id="deployment-behavior-preview-vs-production">ğŸ“ Deployment Behavior: Preview vs Production</h2>
<p>Understanding the <code>url</code> field is important for deployment behavior:</p>
<ul>
<li><strong>Without <code>url</code> field</strong>: Creates a temporary preview deployment (lasts ~2 hours)</li>
<li><strong>With <code>url</code> field</strong>: Creates a permanent deployment until deleted</li>
</ul>
<pre><code class="language-yaml">application:
  name: &quot;my-app&quot;
  url: &quot;www.example.ai&quot; # Include for permanent deployments, omit for ~2 hour previews
  # Rest of configuration...
</code></pre>
<p>No need to add the <code>url</code> key if this is not going to be a permanent deployment.</p>
<h2 id="next-steps">ğŸš€ Next Steps</h2>
<p>Now that you've mastered the basics, here are some advanced topics to explore:</p>
<ol>
<li>
<p><strong>Custom Domains</strong>: Configure your own domains for your Nexlayer applications.</p>
</li>
<li>
<p><strong>Advanced Networking</strong>: Learn about creating internal-only services and managing network policies.</p>
</li>
<li>
<p><strong>Observability</strong>: Set up logging, monitoring, and alerting for your applications.</p>
</li>
<li>
<p><strong>CI/CD Integration</strong>: Automate your deployments with GitHub Actions or other CI/CD tools.</p>
</li>
<li>
<p><strong>Scaling Strategies</strong>: Understand how to optimize your application for automatic scaling.</p>
</li>
</ol>
<h2 id="detailed-schema-reference">ğŸ“š Detailed Schema Reference</h2>
<p>For a comprehensive reference of all available fields in the Nexlayer YAML schema, visit our <a href="https://docs.nexlayer.io/schema">detailed documentation</a>.</p>
<h2 id="important-distinctions">âš ï¸ Important Distinctions</h2>
<h3 id="nexlayer-vs-kubernetes">Nexlayer vs. Kubernetes</h3>
<p>While Nexlayer abstracts away the complexity of Kubernetes, there are some important distinctions:</p>
<ul>
<li>Nexlayer YAML is simpler and more focused on application definition rather than infrastructure.</li>
<li>Nexlayer handles networking, scaling, and security automatically.</li>
<li>Resources are allocated dynamically rather than requiring explicit configuration.</li>
<li>Service discovery is automatic with the <code>&lt;pod-name&gt;.pod</code> convention.</li>
</ul>
<h3 id="nexlayer-vs-docker-compose">Nexlayer vs. Docker Compose</h3>
<p>Nexlayer's YAML format shares some similarities with Docker Compose, but has important differences:</p>
<ul>
<li>Nexlayer is designed for cloud deployment, not local development.</li>
<li>All images must be hosted on a registry, not built or referenced locally.</li>
<li>Nexlayer provides automatic service discovery and routing.</li>
<li>Nexlayer handles complex networking and security automatically.</li>
</ul>
<p>Remember, Nexlayer is designed to simplify your deployment workflow while giving you the power to build sophisticated, scalable applications without the typical infrastructure headaches. Happy deploying!</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": ".", "features": [], "search": "assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>